<div>  
  <div class="<%= render "shared/plot_card_color", { plot: @plot } %> card m-4 h-40 w-80 shadow-xl relative">
    <div class="flex">
      <div class="mx-3 mt-1 font-semibold flex-1 border-b border-slate-700 break-all"><%= truncate(card_view_only.title, length: 16, omission: '..') %></div>
      <div class="text-xl mr-1 mt-1 font-medium border-b border-slate-700"><i class="bi bi-heart-fill"></i><%= card_view_only.emotional_value %></div>
    </div>
    <div class="text-sm my-2 ml-4 mx-3 break-all"><%= truncate(card_view_only.body, length: 60, omission: '...') %></div>
    <div class="absolute inset-x-0 bottom-8 ml-3 mx-3" style="overflow-x: auto; white-space: nowrap;">
      <% card_view_only.foreshadowing_cards.each do |fc| %>
        <span class="badge badge-outline badge-sm">
          <%= fc.foreshadowing.name %>
        </span>
      <% end %>
    </div>
    <div class="absolute inset-x-0 bottom-0 m-2 flex border-t border-slate-700 style="overflow-x: auto; white-space: nowrap;">
      <div class="flex-1 text-xs ml-1"><i class="bi bi-calendar3"></i><%= l(card_view_only.time_start, format: :deluxe) if card_view_only.time_start.present? %>~<%= l(card_view_only.time_end, format: :deluxe) if card_view_only.time_end.present? %></div>
    </div>
    <% if @plot.length_type == "長編" && card_view_only.scene == 20 %>
      <div class="-rotate-6 absolute bottom-3 left-10 text-7xl font-black opacity-10 text-rose-800">MID</br>POINT</div> 
    <% else %>
      <div class="-rotate-12 absolute bottom-12 left-3 text-7xl font-black opacity-5">scene<%= card_view_only.scene %></div>
    <% end %>
  </div>
</div>
